{"version":3,"file":"js/673-legacy.15d3f656.js","mappings":"uGACA,IAAIA,EAAI,EAAQ,MACZC,EAAY,iBACZC,EAAQ,EAAQ,MAChBC,EAAmB,EAAQ,MAG3BC,EAAmBF,GAAM,WAE3B,OAAQG,MAAM,GAAGC,UACnB,IAIAN,EAAE,CAAEO,OAAQ,QAASC,OAAO,EAAMC,OAAQL,GAAoB,CAC5DE,SAAU,SAAkBI,GAC1B,OAAOT,EAAUU,KAAMD,EAAIE,UAAUC,OAAS,EAAID,UAAU,QAAKE,EACnE,IAIFX,EAAiB,W,+nDCiEjB,MAAMY,eAAgBC,EAAAA,iCAAAA,IAAS,IACzBC,OAAQD,EAAAA,iCAAAA,IAAS,IAIjBE,UAAYC,UAChB,MAAMC,EAAWC,wCAAAA,GAAc,gCAC/BC,QAAQC,IAAIH,GACZ,IACE,MAAMI,eAAwBC,MAAML,EAAU,CAACM,OAAQ,SAASC,QAAQC,KAExE,OADAN,QAAQC,IAAIC,GACLA,CACT,CAAE,MAAOK,GACPP,QAAQC,IAAIM,EACd,CACA,MAAO,EAAE,EAGLC,SAAWX,UACf,IACE,MAAMK,eAAwBC,MAAMJ,wCAAAA,GAAc,qCAAsC,CAACK,OAAQ,SAASC,QAAQC,KAClH,OAAOJ,CACT,CAAE,MAAOK,GACPP,QAAQC,IAAIM,EACd,CACA,MAAO,EAAE,EAKXX,YAAYa,MAAMP,IAChBT,cAAciB,OAAO,EAAGjB,cAAcF,UAAWW,EAAO,IAE1DM,WAAWC,MAAMP,IACfP,MAAMe,OAAO,EAAGf,MAAMJ,UAAWW,EAAO,IAI1C,MAAMS,QAAWC,IACf,MAAMC,EAAgB,IAAJD,EACZE,EAAO,IAAIC,KAAKF,GAChBG,EAAQC,OAAOH,EAAKI,WAAa,GAAGC,SAAS,EAAG,KAChDC,EAAMH,OAAOH,EAAKH,WAAWQ,SAAS,EAAG,KACzCE,EAAOP,EAAKQ,cAClB,MAAQ,GAAEN,KAASI,KAAOC,GAAM,EAGlC,SAASE,WAAYC,GAEnB,OADAxB,QAAQC,KAAIwB,EAAAA,wCAAAA,IAAU,aACO,OAAzBA,EAAAA,wCAAAA,IAAU,cACZC,EAAAA,wCAAAA,IAAU,WAAY,IACtB1B,QAAQC,IAAI,kBAAoBuB,EAAEG,UAC3BH,EAAEG,WAEX3B,QAAQC,IAAI2B,KAAKJ,EAAEG,YAAcF,EAAAA,wCAAAA,IAAU,YAAazC,SAASwC,EAAEK,GAAK,KACjED,KAAKJ,EAAEG,YAAcF,EAAAA,wCAAAA,IAAU,YAAazC,SAASwC,EAAEK,GAAK,IACrE,CAEA,SAASC,QAAQC,GACf,OAAOA,EAAIxC,OAAS,GAAKwC,EAAIC,UAAU,EAAG,IAAM,MAAQD,CAC1D,C,q+PClJO,MAAMhC,EAAc,4DAGpB,SAAS2B,EAAUO,EAAMC,GAC5BC,aAAaC,QAAQH,EAAMC,EAC/B,CAGO,SAAST,EAAUQ,GACtB,OAAOE,aAAaE,QAAQJ,EAChC,C,eCNAK,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMvD,EAASsD,EAAIE,WAAaF,EAChC,IAAK,MAAOG,EAAKC,KAAQH,EACrBvD,EAAOyD,GAAOC,EAElB,OAAO1D,CAAM,C,uECHjB,MAAM2D,GAA2B,OAAgB,IAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://GC-App2/./node_modules/core-js/modules/es.array.includes.js","webpack://GC-App2/./src/views/HomePage.vue","webpack://GC-App2/./src/views/constants.js","webpack://GC-App2/./node_modules/vue-loader/dist/exportHelper.js","webpack://GC-App2/./src/views/HomePage.vue?150d"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  // eslint-disable-next-line es/no-array-prototype-includes -- detection\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","<template>\r\n    <ion-page>\r\n      <ion-header :translucent=\"true\">\r\n        <ion-toolbar>\r\n          <ion-buttons slot=\"start\">\r\n            <ion-menu-button color=\"primary\"></ion-menu-button>\r\n          </ion-buttons>\r\n          <ion-title>Home</ion-title>\r\n        </ion-toolbar>\r\n      </ion-header>\r\n  \r\n      <ion-content :fullscreen=\"true\">\r\n        <ion-header collapse=\"condense\">\r\n          <ion-toolbar>\r\n            <ion-title size=\"large\">Home</ion-title>\r\n          </ion-toolbar>\r\n        </ion-header>\r\n\r\n        <ion-card>\r\n          <img class=\"header\" src=\"https://www.ccsdut.org/cms/lib/UT02205719/Centricity/Domain/694/GreenCanyonWolves%20with%20Wolf%20Graphic.png\" style=\"height: 100px;\">\r\n        </ion-card>\r\n\r\n        <div class=\"line\"></div>\r\n\r\n        <div class=\"infocategory\">\r\n        <ion-card class=\"categoryheader\">\r\n          <ion-card-header>\r\n            <ion-card-title style=\"text-align: center;\">Announcements</ion-card-title>\r\n          </ion-card-header>\r\n        </ion-card>\r\n        <div id=\"cards\">\r\n          <ion-card v-for=\"(item, index) in announcements\" :key=\"index\" class=\"infocontent\">\r\n            <img alt=\"announcement image\" :src=\" item.imglink\" class=\"cardimg\" />\r\n\r\n            <ion-card-header class=\"cardheader\">\r\n                <ion-card-title> {{ item.title }} </ion-card-title>\r\n                <ion-card-subtitle> {{ getDate(item.timestamp) }}</ion-card-subtitle>\r\n            </ion-card-header>\r\n\r\n            <ion-card-content class=\"cardcontent\">\r\n              <p>\r\n                {{ shorten(item.descr) }}\r\n              </p>\r\n              <ion-button :href=\"'/article?index=' + item.id\">Learn More</ion-button>\r\n\r\n            </ion-card-content>\r\n\r\n        </ion-card>\r\n      </div>\r\n        </div>\r\n\r\n        <ion-card class=\"categoryheader\">\r\n          <ion-card-header>\r\n            <ion-card-title style=\"text-align: center;\">Polls</ion-card-title>\r\n          </ion-card-header>\r\n        </ion-card>\r\n        <div id=\"cards\">\r\n          <div v-for=\"(p, i) in polls\" :key=\"i\">\r\n\r\n              <ion-card class=\"infocontent\">\r\n                <img v-if=\"p.image != null && p.image != ''\" style=\"height: 200px;\" alt=\"announcement image\" class=\"cardimg\" :src=\"p.image\">\r\n                <ion-card-header class=\"cardheader\">\r\n                  <ion-card-title> {{ p.title }} </ion-card-title>\r\n                  <ion-card-subtitle> {{ getDate(p.timestamp) }}</ion-card-subtitle>\r\n                </ion-card-header>\r\n\r\n                <ion-card-content class=\"cardcontent\">\r\n                  <p>\r\n                    {{ shorten(p.desc) }}\r\n                  </p>\r\n                <ion-button :href=\"'/poll?index=' + p.id\" :disabled=\"isDisabled(p)\" class=\"vote\" >{{ p.button }}</ion-button>\r\n                </ion-card-content>\r\n                \r\n\r\n              </ion-card>\r\n            </div>\r\n          </div>\r\n      </ion-content>\r\n    </ion-page>\r\n  </template>\r\n  \r\n<script setup>\r\nimport { IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar, IonCard, IonCardHeader, IonCardTitle, IonButton, IonCardContent, IonCardSubtitle, IonInfiniteScrollContent, IonInfiniteScroll, IonInfinite} from '@ionic/vue';\r\nimport { APIENDPOINT, setCookie, getCookie } from './constants';\r\nimport { reactive } from 'vue';\r\n\r\nconst announcements = reactive([]); \r\nconst polls = reactive([]); \r\n\r\n// functions to get new things\r\n\r\nconst getNewAnn = async () => {\r\n  const endpoint = APIENDPOINT + \"/announcements?max=3&offset=0\";\r\n  console.log(endpoint);\r\n  try {\r\n    const result =  (await (await fetch(endpoint, {method: \"GET\"})).json()).data;\r\n    console.log(result);\r\n    return result;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n  return [];\r\n}\r\n\r\nconst getPolls = async () => {\r\n  try {\r\n    const result =  (await (await fetch(APIENDPOINT + \"/polls?sortbytime=1&max=3&offset=0\", {method: \"GET\"})).json()).data;\r\n    return result;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n  return [];\r\n};\r\n\r\n// Actually getting the items\r\n\r\ngetNewAnn().then((result) => {\r\n  announcements.splice(0, announcements.length, ...result);\r\n});\r\ngetPolls().then((result) => {\r\n  polls.splice(0, polls.length, ...result)\r\n})\r\n\r\n\r\nconst getDate = (d) => {\r\n  const timestamp = d * 1000;\r\n  const date = new Date(timestamp);\r\n  const month = String(date.getMonth() + 1).padStart(2, '0');\r\n  const day = String(date.getDate()).padStart(2, '0');\r\n  const year = date.getFullYear();\r\n  return `${month}/${day}/${year}`;\r\n}\r\n\r\nfunction isDisabled (p) {\r\n  console.log(getCookie(\"answered\"));\r\n  if (getCookie(\"answered\") == null) {\r\n    setCookie(\"answered\", []);\r\n    console.log(\"setting button \" + p.disabled);\r\n    return p.disabled;\r\n  }\r\n  console.log(eval(p.disabled) || (getCookie(\"answered\")).includes(p.id + \"\"));\r\n  return eval(p.disabled) || (getCookie(\"answered\")).includes(p.id + \"\");\r\n}\r\n\r\nfunction shorten(str) {\r\n  return str.length > 35 ? str.substring(0, 35) + '...' : str;\r\n}\r\n\r\n</script>\r\n\r\n  <style scoped>\r\n  .line {\r\n    width: 80%;\r\n    height: 2px;\r\n    background-color: rgb(95, 95, 95);\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n  }\r\n\r\n  .categoryheader ion-card-title {\r\n    font-size: 30px !important;\r\n    font-weight: 900;\r\n  }\r\n\r\n  #container {\r\n    text-align: center;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 65px;\r\n  }\r\n\r\n  ion-card {\r\n    text-align: center;\r\n  }\r\n  \r\n  #container strong {\r\n    font-size: 20px;\r\n    line-height: 26px;\r\n  }\r\n  \r\n  #container p {\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n    color: #5c1e1e;\r\n    margin: 0;\r\n  }\r\n  \r\n  #container a {\r\n    text-decoration: none;\r\n  }\r\n\r\n  .cardcontent {\r\n    padding: 0px;\r\n    margin: 0;\r\n  }\r\n  .cardheader {\r\n    padding: 0px;\r\n    margin: 0;\r\n    padding-top: 10px;\r\n    align-self: flex-end;\r\n  }\r\n  .cardimg {\r\n    float: left;\r\n    height: 500px;\r\n    width: 50%;\r\n    max-height: 177px;\r\n    object-fit: cover;\r\n  }\r\n  .infocontent {\r\n    display: flexbox;\r\n    justify-content: space-between;\r\n    margin-left: 24px;\r\n    margin-right: 24px;\r\n  }\r\n\r\n  </style>\r\n  ","export const APIENDPOINT = \"http://ec2-18-144-101-122.us-west-1.compute.amazonaws.com\"; // localhost\r\n\r\n// Set a cookie without expiration\r\nexport function setCookie(name, value) {\r\n    localStorage.setItem(name, value);\r\n}\r\n\r\n// Get a cookie\r\nexport function getCookie(name) {\r\n    return localStorage.getItem(name);\r\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=1534437b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1534437b\"]])\n\nexport default __exports__"],"names":["$","$includes","fails","addToUnscopables","BROKEN_ON_SPARSE","Array","includes","target","proto","forced","el","this","arguments","length","undefined","announcements","reactive","polls","getNewAnn","async","endpoint","APIENDPOINT","console","log","result","fetch","method","json","data","e","getPolls","then","splice","getDate","d","timestamp","date","Date","month","String","getMonth","padStart","day","year","getFullYear","isDisabled","p","getCookie","setCookie","disabled","eval","id","shorten","str","substring","name","value","localStorage","setItem","getItem","exports","sfc","props","__vccOpts","key","val","__exports__"],"sourceRoot":""}